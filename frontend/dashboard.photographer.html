<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Styles/dash.photo.nav.css">
    <script
      src="https://kit.fontawesome.com/714346974b.js"
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
    <style>

    </style>
</head>
<body>
    <div id="main_admin_photo">
        <div id="dash_title">
            <nav>
                <i class="fa-solid fa-bars" id="hamburger"></i>
                <div id="nav_right_side">
                  <div id="brand_name">
                    <a href="./index.html" class="indexstyle1"
                      ></a><br><br>
                  </div>
                  <!-- <input type="text" placeholder="Search here" > -->
                </div>
                <div id="nav_left_side">
                  <div>
                    <span><a class="indexstyle" href="./index.html">Home</a></span>
                  </div>
          
                  <div>
                    <span><a href="./dashboard.photographer.html" class="indexstyle">Dashboard</a> </span>
                  </div>
                  <div>
                    <span><a href="./profile.photographer.html" class="indexstyle">Profile</a> </span>
                  </div>
                  <div>
                    <span><a href="./AcceptRejectStatus.html" class="indexstyle">View Request</a> </span>
                  </div>
                </div>
              </nav>
              <div id="burger">
                <div class="burger_inside" id="hm">Home</div>
                <div class="burger_inside" id="ss">Dashboard</div>
                <div class="burger_inside" id="vc">Profile</div>
                <div class="burger_inside" id="ss">View Request</div>
          
                
              </div>
        </div>
        <div id="dash_info">
            <h1 id="admin_photo_name"></h1>
        <div id="detail_total">
            <div class="req_detail">
                <center><h1>Accepted</h1>
                    <h1 class="c1"></h1></center>
                
            </div>
            <div class="req_detail">
                <center><h1>Rejected</h1>
                    <h1 class="c2"></h1></center>
                
            </div>
            <div class="req_detail">
                <center><h1>pending</h1>
                    <h1 class="c3"></h1></center>
                
            </div>
        </div>
           
        </div>
    </div>
</body>
</html>
<script>







    let ham = document.getElementById("hamburger");
ham.addEventListener("click", function () {
    this.classList.toggle("is-active");
    if (this.classList.contains("is-active")) {
      openNav();
    } else {
      closeNav();
    }
  });
  function openNav() {
    console.log("open");
    document.getElementById("burger").style.display = "initial";
    document.getElementById("burger").style.transition =
      "transform 250ms ease-in-out";
  }
  function closeNav() {
    console.log("close nav");
    document.getElementById("burger").style.display = "none";
  }


  //get accepted, rejected, pending counts 
  const dataid=JSON.parse(localStorage.getItem("element"))
         const id = dataid._id
         const photoGraphername =dataid.title
         console.log(id)

  async function requestData(photographer){
    let countData = await fetch(`http://localhost:8080/appointment/getData/${id}`,{
    method:"GET",
    headers:{
      "content-type":"application/json"
    }
    })
    if(countData.ok){
     let data = await countData.json()
     display(data)
     console.log(data)
    }
  }
  requestData()


  let c1=document.querySelector(".c1")
  let c2=document.querySelector(".c2")
  let c3=document.querySelector(".c3")

  function display(data){
    let count1 = 0;
    let count2 = 0;
    let count3 = 0;
    data.forEach((ele) => {
        if (ele.status == "Accepted") {
            count1++
        } else if (ele.status == "Pending") {
            count2++
        } else if (ele.status == "Rejected") {
            count3++;
        }
        c1.innerText=`${count1}`
        c2.innerText=`${count2}`
        c3.innerText=`${count3}`
    })
  }


  //admin photo name
const admin_photo_name = document.querySelector("#admin_photo_name")
admin_photo_name.innerText=`${photoGraphername}`
</script>